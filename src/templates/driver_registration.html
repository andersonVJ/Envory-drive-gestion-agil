{% load static %}
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registro de Conductores - EVORY DRIVE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      .tab-active {
        background-color: #0284c7;
        color: white;
      }
      .tab-inactive {
        background-color: white;
        color: #0284c7;
      }
    </style>
  </head>
  <body
    class="bg-gradient-to-br from-sky-200 via-sky-100 to-blue-200 min-h-screen py-8"
  >
    <div class="container mx-auto px-4 max-w-6xl">
      <!-- Header -->
      <div
        class="bg-white rounded-t-lg shadow-lg p-6 border-b-4 border-sky-500"
      >
        <h1 class="text-3xl font-bold text-gray-800 text-center">
          Registro de Conductores
        </h1>
        <p class="text-center text-gray-600 mt-2">
          EVORY DRIVE - Complete toda la información requerida
        </p>
      </div>

      <form
        method="POST"
        enctype="multipart/form-data"
        id="driverForm"
        class="bg-white shadow-lg"
      >
        {% csrf_token %}

        <!-- Tabs Navigation -->
        <div class="flex border-b bg-gray-50">
          <button
            type="button"
            class="tab-button flex-1 py-4 px-6 text-center font-semibold transition-colors tab-active"
            data-tab="personal"
          >
            Información Personal
          </button>
          <button
            type="button"
            class="tab-button flex-1 py-4 px-6 text-center font-semibold transition-colors tab-inactive"
            data-tab="legal"
          >
            Documentación Legal
          </button>
          <button
            type="button"
            class="tab-button flex-1 py-4 px-6 text-center font-semibold transition-colors tab-inactive"
            data-tab="vehicle"
          >
            Información del Vehículo
          </button>
          <button
            type="button"
            class="tab-button flex-1 py-4 px-6 text-center font-semibold transition-colors tab-inactive"
            data-tab="banking"
          >
            Información Bancaria
          </button>
        </div>

        <!-- Tab Content Container -->
        <div class="p-8">
          <!-- Tab 1: Información Personal -->
          <div id="tab-personal" class="tab-content">
            <h2
              class="text-2xl font-bold text-gray-800 mb-6 pb-2 border-b-2 border-sky-500"
            >
              Información Personal
            </h2>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <!-- Primer Nombre -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Primer Nombre <span class="text-red-500">*</span>
                </label>
                <input
                  type="text"
                  name="primer_nombre"
                  required
                  maxlength="30"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                  placeholder="Juan"
                  pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+"
                />
              </div>

              <!-- Segundo Nombre -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Segundo Nombre
                </label>
                <input
                  type="text"
                  name="segundo_nombre"
                  maxlength="30"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                  placeholder="Carlos"
                  pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+"
                />
              </div>

              <!-- Primer Apellido -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Primer Apellido <span class="text-red-500">*</span>
                </label>
                <input
                  type="text"
                  name="primer_apellido"
                  required
                  maxlength="30"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                  placeholder="Pérez"
                  pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+"
                />
              </div>

              <!-- Segundo Apellido -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Segundo Apellido
                </label>
                <input
                  type="text"
                  name="segundo_apellido"
                  maxlength="30"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                  placeholder="González"
                  pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+"
                />
              </div>

              <!-- Tipo de Documento -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Tipo de Documento <span class="text-red-500">*</span>
                </label>
                <select
                  name="tipo_documento"
                  required
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                >
                  <option value="">Seleccione...</option>
                  <option value="CC">Cédula de Ciudadanía</option>
                  <option value="CE">Cédula de Extranjería</option>
                  <option value="PAS">Pasaporte</option>
                </select>
              </div>

              <!-- Número de Documento -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Número de Documento <span class="text-red-500">*</span>
                </label>
                <input
                  type="text"
                  name="numero_documento"
                  required
                  maxlength="15"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                  placeholder="1234567890"
                  pattern="[0-9]+"
                />
              </div>

              <!-- Fecha de Nacimiento -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Fecha de Nacimiento <span class="text-red-500">*</span>
                </label>
                <input
                  type="date"
                  name="fecha_nacimiento"
                  required
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                />
              </div>

              <!-- Correo Electrónico -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Correo Electrónico <span class="text-red-500">*</span>
                </label>
                <input
                  type="email"
                  name="correo"
                  required
                  maxlength="50"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                  placeholder="conductor@ejemplo.com"
                />
              </div>

              <!-- Teléfono Principal -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Teléfono Principal <span class="text-red-500">*</span>
                </label>
                <input
                  type="tel"
                  name="telefono_principal"
                  required
                  maxlength="10"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                  placeholder="3001234567"
                  pattern="[0-9]{10}"
                />
              </div>

              <!-- Teléfono Secundario -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Teléfono Secundario/Emergencia
                </label>
                <input
                  type="tel"
                  name="telefono_secundario"
                  maxlength="10"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                  placeholder="3007654321"
                  pattern="[0-9]{10}"
                />
              </div>

              <!-- Dirección de Residencia -->
              <div class="md:col-span-2">
                <label class="block text-gray-700 font-semibold mb-2">
                  Dirección de Residencia <span class="text-red-500">*</span>
                </label>
                <input
                  type="text"
                  name="direccion"
                  required
                  maxlength="60"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                  placeholder="Calle 123 #45-67"
                />
              </div>

              <!-- Ciudad -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Ciudad <span class="text-red-500">*</span>
                </label>
                <select
                  name="ciudad"
                  required
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                >
                  <option value="">Seleccione...</option>
                  <option value="Bogotá">Bogotá</option>
                  <option value="Medellín">Medellín</option>
                  <option value="Cali">Cali</option>
                  <option value="Barranquilla">Barranquilla</option>
                  <option value="Cartagena">Cartagena</option>
                </select>
              </div>

              <!-- Crear Contraseña -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Crear Contraseña <span class="text-red-500">*</span>
                </label>
                <input
                  type="password"
                  name="password"
                  required
                  maxlength="60"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                  placeholder="Min. 8 caracteres"
                  minlength="8"
                />
                <p class="text-xs text-gray-500 mt-1">
                  Mínimo 8 caracteres, una mayúscula, una minúscula, un número y
                  un carácter especial
                </p>
              </div>

              <!-- Confirmar Contraseña -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Confirmar Contraseña <span class="text-red-500">*</span>
                </label>
                <input
                  type="password"
                  name="confirm_password"
                  required
                  maxlength="60"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                  placeholder="Repita la contraseña"
                />
              </div>
            </div>
          </div>

          <!-- Tab 2: Documentación Legal -->
          <div id="tab-legal" class="tab-content hidden">
            <h2
              class="text-2xl font-bold text-gray-800 mb-6 pb-2 border-b-2 border-sky-500"
            >
              Documentación Legal
            </h2>

            <div class="space-y-8">
              <!-- Documento de Identidad -->
              <div class="bg-sky-50 p-6 rounded-lg border-2 border-sky-200">
                <h3 class="text-lg font-bold text-gray-800 mb-4">
                  Documento de Identidad
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <!-- Documento -->
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">
                      Frontal <span class="text-red-500">*</span>
                    </label>
                    <div
                      class="border-2 border-dashed border-sky-300 rounded-lg p-8 text-center hover:border-sky-500 transition-colors cursor-pointer bg-white"
                    >
                      <input
                        type="file"
                        name="documento_frontal"
                        required
                        accept=".pdf,.jpg,.jpeg,.png"
                        class="hidden"
                        id="tarjeta_propiedad"
                      />
                      <label for="tarjeta_propiedad" class="cursor-pointer">
                        <svg
                          class="mx-auto h-12 w-12 text-sky-400"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                          />
                        </svg>
                        <p class="mt-2 text-sm text-gray-600">
                          Clic para cargar
                        </p>
                        <p class="text-xs text-gray-500">
                          PDF, JPG, PNG (Máx. 5MB)
                        </p>
                      </label>
                    </div>
                  </div>

                  <!-- Documento -->
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">
                      Reverso
                      <span class="text-gray-500">(Si aplica)</span>
                    </label>
                    <div
                      class="border-2 border-dashed border-sky-300 rounded-lg p-8 text-center hover:border-sky-500 transition-colors cursor-pointer bg-white"
                    >
                      <input
                        type="file"
                        name="documento_reverso"
                        accept=".pdf,.jpg,.jpeg,.png"
                        class="hidden"
                        id="certificado_reconocimiento"
                      />
                      <label
                        for="certificado_reconocimiento"
                        class="cursor-pointer"
                      >
                        <svg
                          class="mx-auto h-12 w-12 text-sky-400"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                          />
                        </svg>
                        <p class="mt-2 text-sm text-gray-600">
                          Clic para cargar
                        </p>
                        <p class="text-xs text-gray-500">
                          PDF, JPG, PNG (Máx. 5MB)
                        </p>
                      </label>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Documento de Identidad -->
              <div class="bg-sky-50 p-6 rounded-lg border-2 border-sky-200">
                <h3 class="text-lg font-bold text-gray-800 mb-4">
                  Carga de documentos
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <!-- Tarjeta de Propiedad Frontal -->
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">
                      Tarjeta de Propiedad <span class="text-red-500">*</span>
                    </label>
                    <div
                      class="border-2 border-dashed border-sky-300 rounded-lg p-8 text-center hover:border-sky-500 transition-colors cursor-pointer bg-white"
                    >
                      <input
                        type="file"
                        name="tarjeta_propiedad"
                        required
                        accept=".pdf,.jpg,.jpeg,.png"
                        class="hidden"
                        id="tarjeta_propiedad"
                      />
                      <label for="tarjeta_propiedad" class="cursor-pointer">
                        <svg
                          class="mx-auto h-12 w-12 text-sky-400"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                          />
                        </svg>
                        <p class="mt-2 text-sm text-gray-600">
                          Clic para cargar
                        </p>
                        <p class="text-xs text-gray-500">
                          PDF, JPG, PNG (Máx. 5MB)
                        </p>
                      </label>
                    </div>
                  </div>

                  <!-- Certificado Reconocimiento -->
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">
                      Certificado Reconocimiento
                      <span class="text-red-500">*</span>
                    </label>
                    <div
                      class="border-2 border-dashed border-sky-300 rounded-lg p-8 text-center hover:border-sky-500 transition-colors cursor-pointer bg-white"
                    >
                      <input
                        type="file"
                        name="certificado_reconocimiento"
                        required
                        accept=".pdf,.jpg,.jpeg,.png"
                        class="hidden"
                        id="certificado_reconocimiento"
                      />
                      <label
                        for="certificado_reconocimiento"
                        class="cursor-pointer"
                      >
                        <svg
                          class="mx-auto h-12 w-12 text-sky-400"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                          />
                        </svg>
                        <p class="mt-2 text-sm text-gray-600">
                          Clic para cargar
                        </p>
                        <p class="text-xs text-gray-500">
                          PDF, JPG, PNG (Máx. 5MB)
                        </p>
                      </label>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Licencia de Conducción -->
              <div class="bg-sky-50 p-6 rounded-lg border-2 border-sky-200">
                <h3 class="text-lg font-bold text-gray-800 mb-4">
                  Licencia de Conducción
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <!-- Número de Licencia -->
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">
                      Número de Licencia <span class="text-red-500">*</span>
                    </label>
                    <input
                      type="text"
                      name="numero_licencia"
                      required
                      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                      placeholder="123456789"
                    />
                  </div>

                  <!-- Fecha de Expedición -->
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">
                      Fecha de Expedición <span class="text-red-500">*</span>
                    </label>
                    <input
                      type="date"
                      name="licencia_expedicion"
                      required
                      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                    />
                  </div>

                  <!-- Fecha de Vencimiento -->
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">
                      Fecha de Vencimiento <span class="text-red-500">*</span>
                    </label>
                    <input
                      type="date"
                      name="licencia_vencimiento"
                      required
                      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                    />
                  </div>

                  <!-- Foto de Licencia -->
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">
                      Foto de Licencia <span class="text-red-500">*</span>
                    </label>
                    <div
                      class="border-2 border-dashed border-sky-300 rounded-lg p-8 text-center hover:border-sky-500 transition-colors cursor-pointer bg-white"
                    >
                      <input
                        type="file"
                        name="foto_licencia"
                        required
                        accept=".pdf,.jpg,.jpeg,.png"
                        class="hidden"
                        id="foto_licencia"
                      />
                      <label for="foto_licencia" class="cursor-pointer">
                        <svg
                          class="mx-auto h-12 w-12 text-sky-400"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                          />
                        </svg>
                        <p class="mt-2 text-sm text-gray-600">
                          Clic para cargar
                        </p>
                        <p class="text-xs text-gray-500">
                          PDF, JPG, PNG (Máx. 5MB)
                        </p>
                      </label>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Otros Documentos -->
              <div class="bg-sky-50 p-6 rounded-lg border-2 border-sky-200">
                <h3 class="text-lg font-bold text-gray-800 mb-4">
                  Otros Documentos Requeridos
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <!-- SOAT -->
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">
                      Documento SOAT <span class="text-red-500">*</span>
                    </label>
                    <div
                      class="border-2 border-dashed border-sky-300 rounded-lg p-8 text-center hover:border-sky-500 transition-colors cursor-pointer bg-white"
                    >
                      <input
                        type="file"
                        name="documento_soat"
                        required
                        accept=".pdf,.jpg,.jpeg,.png"
                        class="hidden"
                        id="documento_soat"
                      />
                      <label for="documento_soat" class="cursor-pointer">
                        <svg
                          class="mx-auto h-12 w-12 text-sky-400"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                          />
                        </svg>
                        <p class="mt-2 text-sm text-gray-600">
                          Clic para cargar
                        </p>
                        <p class="text-xs text-gray-500">
                          PDF, JPG, PNG (Máx. 5MB)
                        </p>
                      </label>
                    </div>
                  </div>

                  <!-- Antecedentes Judiciales -->
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2">
                      Certificado de Antecedentes Judiciales
                      <span class="text-red-500">*</span>
                    </label>
                    <div
                      class="border-2 border-dashed border-sky-300 rounded-lg p-8 text-center hover:border-sky-500 transition-colors cursor-pointer bg-white"
                    >
                      <input
                        type="file"
                        name="antecedentes_judiciales"
                        required
                        accept=".pdf,.jpg,.jpeg,.png"
                        class="hidden"
                        id="antecedentes_judiciales"
                      />
                      <label
                        for="antecedentes_judiciales"
                        class="cursor-pointer"
                      >
                        <svg
                          class="mx-auto h-12 w-12 text-sky-400"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                          />
                        </svg>
                        <p class="mt-2 text-sm text-gray-600">
                          Clic para cargar
                        </p>
                        <p class="text-xs text-gray-500">
                          PDF, JPG, PNG (Máx. 5MB)
                        </p>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Tab 3: Información del Vehículo -->
          <div id="tab-vehicle" class="tab-content hidden">
            <h2
              class="text-2xl font-bold text-gray-800 mb-6 pb-2 border-b-2 border-sky-500"
            >
              Información del Vehículo
            </h2>

            <div class="space-y-8">
              <!-- Datos Básicos del Vehículo -->
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Placa -->
                <div>
                  <label class="block text-gray-700 font-semibold mb-2">
                    Placa del Vehículo <span class="text-red-500">*</span>
                  </label>
                  <input
                    type="text"
                    name="placa"
                    required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent uppercase"
                    placeholder="DJXXXX"
                    maxlength="6"
                  />
                </div>

                <!-- Marca -->
                <div>
                  <label class="block text-gray-700 font-semibold mb-2">
                    Marca del Vehículo <span class="text-red-500">*</span>
                  </label>
                  <input
                    type="text"
                    name="marca"
                    required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent uppercase"
                    placeholder="Chevrolet"
                    maxlength="30"
                  />
                </div>

                <!-- Modelo -->
                <div>
                  <label class="block text-gray-700 font-semibold mb-2">
                    Modelo del Vehículo <span class="text-red-500">*</span>
                  </label>
                  <input
                    type="text"
                    name="modelo"
                    required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                    placeholder="Logan"
                    maxlength="30"
                  />
                </div>

                <!-- Año -->
                <div>
                  <label class="block text-gray-700 font-semibold mb-2">
                    Año del Vehículo <span class="text-red-500">*</span>
                  </label>
                  <input
                    type="number"
                    name="anio"
                    required
                    min="2015"
                    max="2025"
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                    placeholder="2020"
                  />
                </div>

                <!-- Color -->
                <div>
                  <label class="block text-gray-700 font-semibold mb-2">
                    Color del Vehículo <span class="text-red-500">*</span>
                  </label>
                  <input
                    type="text"
                    name="color"
                    required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                    placeholder="Rojo" maxlength="20"
                  />
                </div>

                <!-- Tipo de Vehículo -->
                <div>
                  <label class="block text-gray-700 font-semibold mb-2">
                    Tipo de Vehículo <span class="text-red-500">*</span>
                  </label>
                  <input
                    type="text"
                    name="tipo_vehiculo"
                    required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                    placeholder="Sedán"
                    maxlength="20"
                  />
                </div>

                <!-- Número de Pasajeros -->
                <div>
                  <label class="block text-gray-700 font-semibold mb-2">
                    Número de Pasajeros <span class="text-red-500">*</span>
                  </label>
                  <input
                    type="number"
                    name="num_pasajeros"
                    required
                    min="1"
                    max="8"
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                    placeholder="4"
                  />
                </div>
              </div>

              <!-- Fotos del Vehículo -->
              <div class="bg-sky-50 p-6 rounded-lg border-2 border-sky-200">
                <h3 class="text-lg font-bold text-gray-800 mb-4">
                  Fotos del Vehículo <span class="text-red-500">*</span>
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                  <!-- Foto Frontal -->
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2"
                      >Frontal</label
                    >
                    <div
                      class="border-2 border-dashed border-sky-300 rounded-lg p-8 text-center hover:border-sky-500 transition-colors cursor-pointer bg-white"
                    >
                      <input
                        type="file"
                        name="foto_vehiculo_frontal"
                        required
                        accept=".jpg,.jpeg,.png"
                        class="hidden"
                        id="foto_vehiculo_frontal"
                      />
                      <label for="foto_vehiculo_frontal" class="cursor-pointer">
                        <svg
                          class="mx-auto h-12 w-12 text-sky-400"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                          />
                        </svg>
                        <p class="mt-2 text-sm text-gray-600">
                          Clic para cargar
                        </p>
                        <p class="text-xs text-gray-500">JPG, PNG (Máx. 5MB)</p>
                      </label>
                    </div>
                  </div>

                  <!-- Foto Lateral -->
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2"
                      >Lateral</label
                    >
                    <div
                      class="border-2 border-dashed border-sky-300 rounded-lg p-8 text-center hover:border-sky-500 transition-colors cursor-pointer bg-white"
                    >
                      <input
                        type="file"
                        name="foto_vehiculo_lateral"
                        required
                        accept=".jpg,.jpeg,.png"
                        class="hidden"
                        id="foto_vehiculo_lateral"
                      />
                      <label for="foto_vehiculo_lateral" class="cursor-pointer">
                        <svg
                          class="mx-auto h-12 w-12 text-sky-400"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                          />
                        </svg>
                        <p class="mt-2 text-sm text-gray-600">
                          Clic para cargar
                        </p>
                        <p class="text-xs text-gray-500">JPG, PNG (Máx. 5MB)</p>
                      </label>
                    </div>
                  </div>

                  <!-- Foto Interior -->
                  <div>
                    <label class="block text-gray-700 font-semibold mb-2"
                      >Interior</label
                    >
                    <div
                      class="border-2 border-dashed border-sky-300 rounded-lg p-8 text-center hover:border-sky-500 transition-colors cursor-pointer bg-white"
                    >
                      <input
                        type="file"
                        name="foto_vehiculo_interior"
                        required
                        accept=".jpg,.jpeg,.png"
                        class="hidden"
                        id="foto_vehiculo_interior"
                      />
                      <label
                        for="foto_vehiculo_interior"
                        class="cursor-pointer"
                      >
                        <svg
                          class="mx-auto h-12 w-12 text-sky-400"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                          />
                        </svg>
                        <p class="mt-2 text-sm text-gray-600">
                          Clic para cargar
                        </p>
                        <p class="text-xs text-gray-500">JPG, PNG (Máx. 5MB)</p>
                      </label>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Certificado Tecnomecánica -->
              <div class="bg-sky-50 p-6 rounded-lg border-2 border-sky-200">
                <h3 class="text-lg font-bold text-gray-800 mb-4">
                  Certificado de Tecnomecánica
                  <span class="text-red-500">*</span>
                </h3>
                <div
                  class="border-2 border-dashed border-sky-300 rounded-lg p-8 text-center hover:border-sky-500 transition-colors cursor-pointer bg-white max-w-md mx-auto"
                >
                  <input
                    type="file"
                    name="certificado_tecnomecanica"
                    required
                    accept=".pdf,.jpg,.jpeg,.png"
                    class="hidden"
                    id="certificado_tecnomecanica"
                  />
                  <label for="certificado_tecnomecanica" class="cursor-pointer">
                    <svg
                      class="mx-auto h-16 w-16 text-sky-400"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                      />
                    </svg>
                    <p class="mt-2 text-sm text-gray-600">
                      Clic para cargar el certificado
                    </p>
                    <p class="text-xs text-gray-500">
                      PDF, JPG, PNG (Máx. 5MB)
                    </p>
                  </label>
                </div>
              </div>
            </div>
          </div>

          <!-- Tab 4: Información Bancaria -->
          <div id="tab-banking" class="tab-content hidden">
            <h2
              class="text-2xl font-bold text-gray-800 mb-6 pb-2 border-b-2 border-sky-500"
            >
              Información Bancaria
            </h2>

            <div
              class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto"
            >
              <!-- Tipo de Cuenta -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Tipo de Cuenta <span class="text-red-500">*</span>
                </label>
                <select
                  name="tipo_cuenta"
                  required
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                >
                  <option value="">Seleccione...</option>
                  <option value="Ahorros">Ahorros</option>
                  <option value="Corriente">Corriente</option>
                </select>
              </div>

              <!-- Banco -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Banco <span class="text-red-500">*</span>
                </label>
                <select
                  name="banco"
                  required
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                >
                  <option value="">Seleccione...</option>
                  <option value="Bancolombia">Bancolombia</option>
                  <option value="Banco de Bogotá">Banco de Bogotá</option>
                  <option value="Davivienda">Davivienda</option>
                  <option value="BBVA">BBVA</option>
                  <option value="Banco Popular">Banco Popular</option>
                  <option value="Banco Occidente">Banco Occidente</option>
                  <option value="Banco AV Villas">Banco AV Villas</option>
                  <option value="Nequi">Nequi</option>
                  <option value="Daviplata">Daviplata</option>
                </select>
              </div>

              <!-- Número de Cuenta -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Número de Cuenta <span class="text-red-500">*</span>
                </label>
                <input
                  type="text"
                  name="numero_cuenta"
                  required
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                  placeholder="1234567890"
                  pattern="[0-9]+"
                />
              </div>

              <!-- Confirmar Número de Cuenta -->
              <div>
                <label class="block text-gray-700 font-semibold mb-2">
                  Confirmar Número de Cuenta <span class="text-red-500">*</span>
                </label>
                <input
                  type="text"
                  name="confirmar_numero_cuenta"
                  required
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                  placeholder="1234567890"
                  pattern="[0-9]+"
                />
              </div>
            </div>

            <div
              class="mt-8 bg-blue-50 border-l-4 border-blue-500 p-4 max-w-4xl mx-auto"
            >
              <div class="flex">
                <div class="flex-shrink-0">
                  <svg
                    class="h-5 w-5 text-blue-500"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </div>
                <div class="ml-3">
                  <p class="text-sm text-blue-700">
                    Los pagos de tus servicios se depositarán en esta cuenta
                    bancaria. Verifica que los datos sean correctos.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Navigation Buttons -->
        <div
          class="bg-gray-50 px-8 py-6 border-t flex justify-between items-center"
        >
          <button
            type="button"
            id="prevBtn"
            class="px-6 py-3 bg-white border-2 border-sky-500 text-sky-600 font-semibold rounded-lg hover:bg-sky-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
            disabled
          >
            ← Anterior
          </button>

          <div class="flex gap-4">
            <button
              type="button"
              id="saveDraftBtn"
              class="px-6 py-3 bg-white border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-colors"
            >
              Guardar Borrador
            </button>

            <button
              type="button"
              id="nextBtn"
              class="px-6 py-3 bg-sky-600 text-white font-semibold rounded-lg hover:bg-sky-700 transition-colors"
            >
              Siguiente →
            </button>

            <button
              type="submit"
              id="submitBtn"
              class="px-8 py-3 bg-sky-600 text-white font-semibold rounded-lg hover:bg-sky-700 transition-colors hidden"
            >
              Registrar Conductor
            </button>
          </div>
        </div>
      </form>

      <!-- Success/Error Messages -->
      <div id="messageContainer" class="mt-4"></div>
    </div>

    <script>
      // Tab functionality
      const tabs = document.querySelectorAll(".tab-button");
      const tabContents = document.querySelectorAll(".tab-content");
      const prevBtn = document.getElementById("prevBtn");
      const nextBtn = document.getElementById("nextBtn");
      const submitBtn = document.getElementById("submitBtn");
      let currentTab = 0;

      function showTab(index) {
        tabContents.forEach((content) => content.classList.add("hidden"));
        tabs.forEach((tab) => {
          tab.classList.remove("tab-active");
          tab.classList.add("tab-inactive");
        });

        tabContents[index].classList.remove("hidden");
        tabs[index].classList.add("tab-active");
        tabs[index].classList.remove("tab-inactive");

        // Update buttons
        prevBtn.disabled = index === 0;

        if (index === tabs.length - 1) {
          nextBtn.classList.add("hidden");
          submitBtn.classList.remove("hidden");
        } else {
          nextBtn.classList.remove("hidden");
          submitBtn.classList.add("hidden");
        }
      }

      tabs.forEach((tab, index) => {
        tab.addEventListener("click", () => {
          currentTab = index;
          showTab(index);
        });
      });

      prevBtn.addEventListener("click", () => {
        if (currentTab > 0) {
          currentTab--;
          showTab(currentTab);
        }
      });

      nextBtn.addEventListener("click", () => {
        if (validateCurrentTab()) {
          if (currentTab < tabs.length - 1) {
            currentTab++;
            showTab(currentTab);
          }
        }
      });

      // Validation function
      function validateCurrentTab() {
        const currentContent = tabContents[currentTab];
        const requiredInputs = currentContent.querySelectorAll("[required]");
        let isValid = true;

        requiredInputs.forEach((input) => {
          if (!input.value.trim()) {
            isValid = false;
            input.classList.add("border-red-500");
          } else {
            input.classList.remove("border-red-500");
          }
        });

        if (!isValid) {
          showMessage(
            "Por favor complete todos los campos obligatorios",
            "error"
          );
        }

        return isValid;
      }

      // Password validation
      const passwordInput = document.querySelector('[name="password"]');
      const confirmPasswordInput = document.querySelector(
        '[name="confirm_password"]'
      );

      function validatePassword(password) {
        const minLength = 8;
        const hasUpperCase = /[A-Z]/.test(password);
        const hasLowerCase = /[a-z]/.test(password);
        const hasNumber = /\d/.test(password);
        const hasSpecialChar = /[!@#$%^&*(),.?":{}|<>]/.test(password);

        return (
          password.length >= minLength &&
          hasUpperCase &&
          hasLowerCase &&
          hasNumber &&
          hasSpecialChar
        );
      }

      passwordInput.addEventListener("blur", function () {
        if (!validatePassword(this.value)) {
          this.classList.add("border-red-500");
          showMessage(
            "La contraseña debe tener mínimo 8 caracteres, una mayúscula, una minúscula, un número y un carácter especial",
            "error"
          );
        } else {
          this.classList.remove("border-red-500");
        }
      });

      confirmPasswordInput.addEventListener("blur", function () {
        if (this.value !== passwordInput.value) {
          this.classList.add("border-red-500");
          showMessage("Las contraseñas no coinciden", "error");
        } else {
          this.classList.remove("border-red-500");
        }
      });

      // Age validation
      const fechaNacimiento = document.querySelector(
        '[name="fecha_nacimiento"]'
      );
      fechaNacimiento.addEventListener("change", function () {
        const birthDate = new Date(this.value);
        const today = new Date();
        const age = today.getFullYear() - birthDate.getFullYear();
        const monthDiff = today.getMonth() - birthDate.getMonth();

        if (
          monthDiff < 0 ||
          (monthDiff === 0 && today.getDate() < birthDate.getDate())
        ) {
          age--;
        }

        if (age < 21) {
          this.classList.add("border-red-500");
          showMessage("El conductor debe ser mayor de 21 años", "error");
        } else {
          this.classList.remove("border-red-500");
        }
      });

      // Plate format validation
      const placaInput = document.querySelector('[name="placa"]');
      placaInput.addEventListener("input", function () {
        this.value = this.value.toUpperCase();
      });

      // Bank account confirmation
      const numeroCuenta = document.querySelector('[name="numero_cuenta"]');
      const confirmarCuenta = document.querySelector(
        '[name="confirmar_numero_cuenta"]'
      );

      confirmarCuenta.addEventListener("blur", function () {
        if (this.value !== numeroCuenta.value) {
          this.classList.add("border-red-500");
          showMessage("Los números de cuenta no coinciden", "error");
        } else {
          this.classList.remove("border-red-500");
        }
      });

      // File upload preview
      document.querySelectorAll('input[type="file"]').forEach((input) => {
        input.addEventListener("change", function (e) {
          const file = e.target.files[0];
          if (file) {
            // Validate file size (5MB max)
            if (file.size > 5 * 1024 * 1024) {
              showMessage(
                "El archivo es demasiado grande. Máximo 5MB",
                "error"
              );
              this.value = "";
              return;
            }

            const label = this.parentElement.querySelector("label");
            const fileName = file.name;
            label.querySelector("p.text-sm").textContent = fileName;
            label
              .querySelector("p.text-sm")
              .classList.add("text-green-600", "font-semibold");
          }
        });
      });

      // Save draft functionality
      document
        .getElementById("saveDraftBtn")
        .addEventListener("click", function () {
          showMessage("Borrador guardado exitosamente", "success");
          // Here you would implement the actual save draft logic
        });

      // Form submission
      document
        .getElementById("driverForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          if (validateForm()) {
            // Here you would send the form data to Django backend
            showMessage(
              "El registro del conductor fue exitoso. Estado: Pendiente de Verificación",
              "success"
            );

            // Simulate form submission
            setTimeout(() => {
              this.submit();
            }, 2000);
          }
        });

      function validateForm() {
        // Validate all required fields
        const allInputs = document.querySelectorAll("[required]");
        let isValid = true;

        allInputs.forEach((input) => {
          if (!input.value.trim()) {
            isValid = false;
            input.classList.add("border-red-500");
          }
        });

        if (!isValid) {
          showMessage("Error: faltan campos obligatorios", "error");
          return false;
        }

        // Validate passwords match
        if (passwordInput.value !== confirmPasswordInput.value) {
          showMessage("Las contraseñas no coinciden", "error");
          return false;
        }

        // Validate bank account numbers match
        if (numeroCuenta.value !== confirmarCuenta.value) {
          showMessage("Los números de cuenta no coinciden", "error");
          return false;
        }

        return true;
      }

      function showMessage(message, type) {
        const messageContainer = document.getElementById("messageContainer");
        const bgColor =
          type === "success"
            ? "bg-green-100 border-green-500 text-green-700"
            : "bg-red-100 border-red-500 text-red-700";

        messageContainer.innerHTML = `
                <div class="${bgColor} border-l-4 p-4 rounded shadow-lg" role="alert">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            ${
                              type === "success"
                                ? '<svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>'
                                : '<svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/></svg>'
                            }
                        </div>
                        <div class="ml-3">
                            <p class="font-semibold">${message}</p>
                        </div>
                    </div>
                </div>
            `;

        setTimeout(() => {
          messageContainer.innerHTML = "";
        }, 5000);
      }

      // Initialize
      showTab(0);
    </script>
  </body>
</html>
